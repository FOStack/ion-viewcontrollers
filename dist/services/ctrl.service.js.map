{"version":3,"file":"ctrl.service.js","sourceRoot":"","sources":["../../src/services/ctrl.service.ts"],"names":[],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nimport { AlertController } from '@ionic/angular';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class AlertService {\r\n\r\n  constructor(\r\n    public alertCtrl: AlertController,\r\n  ) {\r\n  }\r\n\r\n  async ctrl(m?) {\r\n    let message; \r\n    let header = (m.header == false || m.h == false)?null:'Notification';\r\n    if(!m.message && !m.inputs && m.length){\r\n      message = m;\r\n    } else {\r\n      message = m.message || null;\r\n    }\r\n    if(typeof message === 'string' || message instanceof String){\r\n      message = message.replace(/<br>/g,'');\r\n    }\r\n    return await this.alertCtrl.create({\r\n      cssClass: m.cssClass || 'alertCtrl',\r\n      header: m.header || header,\r\n      subHeader: m.subHeader || null,\r\n      message: message || null,\r\n      ...(m.inputs)?{inputs: m.inputs}: null,\r\n      buttons: m.buttons || ['Okay'],\r\n      backdropDismiss: m.backdropDismiss || null\r\n    });\r\n  }\r\n\r\n  async confirm(m?) {\r\n    let result = false;\r\n    let p:any = (m.length)?{header:m}:{...m};\r\n    p.buttons = [\r\n      {\r\n        text: 'No',\r\n        handler: () => {\r\n          result = false;\r\n        }\r\n      },\r\n      {\r\n        text: 'Yes',\r\n        handler: () => {\r\n          result = true;\r\n        }\r\n      }\r\n    ]\r\n    p.backdropDismiss = false;\r\n    const alert = await this.ctrl(p);\r\n    await alert.present();\r\n    let r = await alert[m.then || 'onDidDismiss']();\r\n    return result;\r\n  }\r\n\r\n  async show(m?) {\r\n    const alert = await this.ctrl(m);\r\n    await alert.present();\r\n    let r = await alert[m.then || 'onDidDismiss']();\r\n    return r.data;\r\n  }\r\n\r\n  check(data) {\r\n    let obj = data; let msg = \"\";\r\n    if(obj instanceof String \r\n    || typeof obj === 'string'){\r\n      msg = String(obj);\r\n    } else {\r\n      msg = JSON.stringify(obj);\r\n    }\r\n    this.show(msg);\r\n  }\r\n\r\n  log(data){\r\n    // console.log(data);\r\n    return this.check(data);\r\n  }\r\n\r\n  comingSoon() {\r\n    this.show(\"Still under construction. Coming soon!\");\r\n  }\r\n    \r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nimport { LoadingController } from '@ionic/angular';\r\n  \r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LoadingService {\r\n\r\n  constructor(\r\n    public loadingCtrl: LoadingController,\r\n  ) { }\r\n\r\n  async ctrl(i?: any) {\r\n    i = (i)?i:{};\r\n    return await this.loadingCtrl.create({\r\n      message: i.message || i || 'Loading...',\r\n      spinner: i.spinner,\r\n      duration: i.duration,\r\n    });\r\n  }\r\n\r\n  async show(i?: any) {\r\n    const loading = await this.ctrl(i);\r\n    await loading.present();\r\n    let r = await loading[i.then || 'onDidDismiss']();\r\n    return r.data;\r\n  }\r\n\r\n  l: any = {};\r\n\r\n  async present(i?: any) {\r\n    i = (i)?i:{}; if(i.prop){\r\n      i.message = i.message || 'Loading...'\r\n    }\r\n    this.l[i.prop || 'view'] = await this.ctrl(i);\r\n    await this.l[i.prop || 'view'].present()\r\n  }\r\n\r\n  async setContent(i?: any) {\r\n    i = (i)?i:{};\r\n    if(this.loadingCtrl.getTop() \r\n    && this.l[i.prop || 'view']){\r\n      for(const p in i){\r\n          this.l[i.prop || 'view'][p] = i[p];\r\n      }\r\n    } else{\r\n      await this.present(i)\r\n    }\r\n  }\r\n\r\n  dismiss(prop?) {\r\n    if(this.loadingCtrl.getTop() || this.l[prop || 'view'])\r\n    return this.l[prop || 'view'].dismiss()\r\n  }\r\n  \r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nimport { ToastController } from '@ionic/angular';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ToastService {\r\n\r\n  constructor(\r\n    public toastCtrl: ToastController,\r\n  ) { }\r\n    \r\n  async ctrl(i?: any) {\r\n    i = (i)?i:{};\r\n    return await this.toastCtrl.create({\r\n      message: i.message || i || 'Complete',\r\n      duration: i.duration || 1000,\r\n      showCloseButton: i.showCloseButton || true,\r\n      position: i.position || 'bottom',\r\n      closeButtonText: i.closeButtonText,\r\n      translucent: i.translucent || true\r\n    });\r\n  }\r\n  \r\n  async show(i?: any) {\r\n    const toast = await this.ctrl(i);\r\n    await toast.present();\r\n    let r = await toast[i.then || 'onDidDismiss']();\r\n    return r.data;\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nimport { ModalController } from '@ionic/angular';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ModalService {\r\n\r\n  constructor(\r\n    public modalCtrl: ModalController\r\n  ) { \r\n  }\r\n\r\n  async ctrl(view: any) {\r\n    view.componentProps = {\r\n      ...view.componentProps,\r\n      ...(view.items)?{items: view.items}:null,\r\n      ctrl: this.modalCtrl\r\n    }\r\n    return await this.modalCtrl.create(view);\r\n  }\r\n\r\n  async show(view: any) {\r\n    const modal = await this.ctrl(view);\r\n    await modal.present();\r\n    let r = await modal[view.then || 'onDidDismiss']();\r\n    return r.data;\r\n  }\r\n    \r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nimport { PopoverController } from '@ionic/angular';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PopoverService {\r\n  \r\n  constructor(\r\n    public popCtrl: PopoverController\r\n  ) {\r\n  }\r\n  \r\n  async ctrl(view: any, ev?: any) {\r\n    view.componentProps = {\r\n      ...view.componentProps,\r\n      ...(view.items)?{items: view.items}:null,\r\n      ctrl: this.popCtrl\r\n    }\r\n    view.translucent = view.translucent || false;\r\n    view.event = view.event || ev;\r\n    return await this.popCtrl.create(view);\r\n  } \r\n  \r\n  async show(view: any, ev?: any) {\r\n    const popover = await this.ctrl(view, ev);\r\n    await popover.present();\r\n    let r = await popover[view.then || 'onDidDismiss']();\r\n    return r.data;\r\n  }\r\n    \r\n}"]}